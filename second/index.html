<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Andreja Stajduhar">
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>2nd experiment - lab tutorials</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-175887011-1', 'mkdocs.org');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="..">lab tutorials</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../partone/" class="nav-link">Getting started</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Experiments <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">2nd experiment</a>
</li>
                                    
<li>
    <a href="../third/" class="dropdown-item">3rd experiment</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../hosting/" class="nav-link">Hosting/Crediting</a>
                            </li>
                            <li class="navitem">
                                <a href="../advancedtopics/" class="nav-link">Advanced topics</a>
                            </li>
                            <li class="navitem">
                                <a href="../resources/" class="nav-link">Resources</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../partone/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../third/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#using-jspsychs-built-in-functions" class="nav-link">Using jsPsych's built-in functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="using-jspsychs-built-in-functions">Using jsPsych's built-in functions</h2>
<p>Let's take a moment to explore how to code lengthy experiments more efficiently using jsPsych's own built-in functions. These functions, like jsPsych.timelineVariable(), allow us to nest timelines so that we don't have to redefine experiment variables we plan on re-using. We can use these functions in place of for loops to accomplish the same thing. More information on nested timelines can be found <a href="https://www.jspsych.org/overview/timeline/#nested-timelines">here</a>. </p>
<p>Suppose we have a series of images to display one after the other. The experiment structure is as follows: fixation point shown for 1000 miliseconds, image shown for 2000 miliseconds, a final image shown for 3000 miliseconds requiring a keyboard response from the participant. Let's see how we can do this using the function mentioned above and nesting our timeline:</p>
<pre><code>&lt;body&gt;
    &lt;script&gt;
        var timeline = [];

        // trial variables
        const letter_keys = ['1', '2', '3', '4', '5']
        const trial_length_1 = 2000
        const trial_length_2 = 3000


        // this trial is outside of the nested timeline because we don't want to show it every time the timeline iterates
        var instructions = {
            type: 'html-keyboard-response',
            stimulus: '&lt;p&gt;Please rate each image you see on a scale of 1-5. To proceed, press any key on your keyboard.&lt;/p&gt;',
            choices: jsPsych.ALL_KEYS //any keyboard input is allowed
        }

        var trial = {
            timeline: [
                {
                    type: 'html-keyboard-response', // it's best to use this plugin for fixation points because you can easily style it using HTML tags
                    stimulus: '&lt;p style="font-size: 300%";&gt;+&lt;/p&gt;',
                    choices: jsPsych.NO_KEYS, // we don't want a response from the participant so le'ts "lock" the keyboard
                    trial_duration: 1000
                },
                {
                    type: 'image-keyboard-response',
                    stimulus: jsPsych.timelineVariable('stimulus'),
                    choices: letter_keys,
                    trial_duration: trial_length_1
                    prompt: '' // let's leave the prompt empty so that we don't see "null" above each image

                },
                {
                    type: 'image-keyboard-response',
                    stimulus: jsPsych.timelineVariable('stimulus'),
                    choices: letter_keys,
                    trial_duration: trial_length_2,
                    prompt: ''
                }
            ],
            timeline_variables: [
                { stimulus: 'images/image_1.jpg' },
                { stimulus: 'images/image_2.jpg' },
                { stimulus: 'images/image_3.jpg' },
                { stimulus: 'images/image_4.jpg' } // we can add as many images as we want
            ]
        }
    &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<p>We can have another timeline variable next to stimulus called 'name' for example, which we can display with alongside our image. Nested timelines work best for simple trial iterations like the one we did above, they are <em>not</em> a substitute for more complex iterations and cannot be used for experiments that require more than three types of trials. </p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2020 Andreja Stajduhar</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
